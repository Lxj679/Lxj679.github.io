---
title: 5. List
date: 2024-04-09 12:07:55
isOriginal: true
category:
    - python
tag:
    - python
    - ç¼–ç¨‹
    - æ•™ç¨‹
icon: python
sticky: false
star: false
article: true
timeline: true
image: false
navbar: true
sidebarIcon: true
headerDepth: 5
comment: true
lastUpdated: true
editLink: true
backToTop: true
toc: true
---

## 1. åˆ—è¡¨ç»“æ„

- åˆ©ç”¨ **<span style="color: orange">ä¸­æ‹¬å·</span>**
- åˆ—è¡¨å†…çš„å…ƒç´ ç”¨ **<span style="color: orange">é€—å·</span>** éš”å¼€

- æ³¨æ„æ˜¯ **<span style="color: orange">è‹±æ–‡è¾“å…¥æ³•</span>** ä¸‹çš„é€—å·

```python
student1 = ['lilei', 18, 'class01', 201901]
student2 = ['hanmeimei', 19, 'class02', 201902]
```

åˆ—è¡¨çš„ **<span style="color: orange">å¯å˜æ€§</span>** ï¼šå¯ä»¥ä¿®æ”¹åˆ—è¡¨å†…çš„å†…å®¹ã€‚

- å­—ç¬¦ä¸²å¼ºåˆ¶è½¬æ¢æˆåˆ—è¡¨

```python
string_to_list = list('Bornforthis')
print(string_to_list)

# output
['B', 'o', 'r', 'n', 'f', 'o', 'r', 't', 'h', 'i', 's']
```

## 2. è·å–åˆ—è¡¨ä¸­çš„æŸä¸ªå…ƒç´ 

### 2.1 åˆ—è¡¨ä¸‹æ ‡çš„ç»„æˆ

#### 2.1.1è·å–åˆ—è¡¨ä¸­çš„æŸä¸ªå…ƒç´ 

![edb017a666f1fbb3a71ea2cd9406106](./5.list.assets/edb017a666f1fbb3a71ea2cd9406106.png)

ä¸­æ‹¬å·å†…æŒ‡å®šå…ƒç´ ä½ç½®

```python
grade = [98, 99, 95, 80]
print(grade[0])
print(grade[0] + grade[3])

# output
98
178
```

#### 2.1.2 è·å–åˆ—è¡¨ä¸­è¿ç»­çš„å‡ ä¸ªå…ƒç´ 

![6caa499b5ea1ce1c1eee0e9bbdb5fe8](./5.list.assets/6caa499b5ea1ce1c1eee0e9bbdb5fe8.png)

```python
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
print(numbers[2:6])

# output
[2, 3, 4, 5]
```

#### 2.1.3 **<span style="color: red">è·å–</span>**åˆ—è¡¨ä¸­è¿ç»­çš„å‡ ä¸ªå…ƒç´ 

![2529c81a0e9a4089646d28405d720a1](./5.list.assets/2529c81a0e9a4089646d28405d720a1.png)

```python
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
print(numbers[1:7:2])

# output
[1, 3, 5]
```

#### 2.1.4 åˆ—è¡¨çš„ **<span style="color: red">åˆ‡ç‰‡èµ‹å€¼</span>**

```python
In [1]: name = list('Python')

In [2]: name
Out[2]: ['P', 'y', 't', 'h', 'o', 'n']

In [3]: name[2:] = list('abc')

In [4]: name
Out[4]: ['P', 'y', 'a', 'b', 'c']

In [5]: numbers = [1, 5]

In [6]: numbers[1:1]
Out[6]: []

In [7]: numbers[1:1] = [2, 3, 4]

In [8]: numbers
Out[8]: [1, 2, 3, 4, 5]

In [9]: numbers[1:4]
Out[9]: [2, 3, 4]

In [10]: numbers[1:4] = []

In [11]: numbers
Out[11]: [1, 5]
```

#### 2.1.5 å°è¯•ç‰›åˆ€

è·å–ç”¨æˆ·è¾“å…¥ä¸¤ä¸ªå€¼ï¼Œä¸€ä¸ªæ˜¯è¦æ’å…¥çš„ä½ç½®ï¼Œä¸€ä¸ªæ˜¯è¦æ’å…¥è¿™ä¸ªä½ç½®çš„å€¼ã€‚

- ç»™å®šä¸‹é¢åˆ—è¡¨

```python
numbers = [1, 2, 3, 4, 5, 6]
```

- ä¾‹å­

```python
Enter position: 3
Enter value: 4
[1, 2, 3, 4, 5, 6]
```

- ä»£ç 

```python
numbers = [1, 2, 3, 5, 6]
p = int(input("Enter position:"))
v = int(input("Enter Value:"))
numbers[p:p] = [v]
print(numbers)

# output
Enter position: 3
Enter Value: 4
[1, 2, 3, 4, 5, 6]
```

#### 2.1.6 åœ¨åˆ—è¡¨çš„ç‰¹å®šä½ç½®æ’å…¥å…ƒç´ ï¼ˆ.insert(index, element)ï¼‰

`.insert(index, element)`æ˜¯ä¸€ä¸ªåˆ—è¡¨çš„åŸºæœ¬è¡¨ç°æ–¹æ³•ï¼Œç”¨äºåœ¨åˆ—è¡¨çš„æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚

ä»–çš„åŸºæœ¬è¯­æ³•æ˜¯ï¼š

```python
list.insert(index, element)
```

- `index`:æŒ‡å®šè¦æ’å…¥å…ƒç´ çš„ä½ç½®ã€‚ç´¢å¼•ä» 0 å¼€å§‹ã€‚å¦‚æœæŒ‡å®šçš„ç´¢å¼•è¶…å‡ºäº†åˆ—è¡¨çš„å½“å‰é•¿åº¦ã€Œä¸ä¼šæŠ¥é”™ã€ï¼Œåˆ™å…ƒç´ å°†è¢«æ·»åŠ åˆ°åˆ—è¡¨çš„æœ«å°¾ã€‚

- `element`:è¿™æ˜¯ä½ æƒ³è¦æ’å…¥åˆ—è¡¨çš„å…ƒç´ ã€‚

```python
numbers = [1, 2, 3, 5, 6]
numbers.insert(3, 4)
print(numbers) # [1, 2, 3, 4, 5, 6]

# output
# [1, 2, 3, 4, 5, 6]
```

#### 2.1.7 è·å–åˆ—è¡¨é•¿åº¦ï¼ˆlen()ï¼‰

ä½¿ç”¨ lenï¼ˆï¼‰å‡½æ•°è¿”å›åˆ—è¡¨ä¸­å…ƒç´ çš„ä¸ªæ•°

```python
# è·å–åˆ—è¡¨é•¿åº¦ï¼Œä½¿ç”¨ len():
student_list = ['æé›·', 'éŸ©æ¢…æ¢…', 'é©¬å†¬æ¢…']
print(len(student_list))

# output
3
```

#### 2.1.8 ä¿®æ”¹åˆ—è¡¨å•ä¸ªå…ƒç´ 

é€šè¿‡åˆ—è¡¨ä½ç½®ç¼–å·ä¿®æ”¹æƒ³è¦ä¿®æ”¹çš„å…ƒç´ ï¼ˆlist[ä½ç½®ç¼–å·]ï¼‰

```python
# ä¿®æ”¹åˆ—è¡¨å…ƒç´ 
name = ['lilei', 'hanmeimei']
name[0] = 'madongmei'
print(name)

# output
['madongmei', 'hanmeimei']
```

#### 2.1.9 ä¿®æ”¹åˆ—è¡¨å¤šä¸ªå…ƒç´ 

ç±»ä¼¼äºå‰é¢çš„åˆ‡ç‰‡â€”â€”â€”â€”list[start:end]ï¼Œåœ¨ä¸­æ‹¬å·å†…èµ·å§‹å’Œç»“æŸä½ç½®ï¼ˆä¸­æ‹¬å·å†…å·¦é—­å³å¼€ï¼Œå› æ­¤å³è¾¹ä½ç½®å¾—å¤šå¾€è¾¹ç¼˜æ–¹å‘æŒªåŠ¨ä¸€ä½ï¼‰

```python
# å¤šä¸ªå…ƒç´ ä¿®æ”¹
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0]
print('before:', numbers)

numbers[1:5] = ['one', 'two', 'three', 'four']
print('after:', numbers)

# output
before: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0]
after: [0, 'one', 'two', 'three', 'four', 5, 6, 7, 8, 9, 0]
```

å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è¢«ç›´æ¥åˆ†å‰²ä¸ºå…ƒç´ ï¼ŒåŠ å…¥åˆ—è¡¨ä¸­

```python
# å¤šä¸ªä¿®æ”¹çš„å¯¹è±¡ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
print('before:', numbers)

# å…ƒç´ æ•°é‡ä¸ä¸€æ · & å­—ç¬¦ä¸²è‡ªåŠ¨æ‹†å¼€æˆåˆ—è¡¨
numbers[1:5] = 'bornforthis'
print('after:', numbers)

# output
before: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
after: [0, 'b', 'o', 'r', 'n', 'f', 'o', 'r', 't', 'h', 'i', 's', 5, 6, 7, 8, 9, 10]
```

æ³¨æ„ä¸€ç‚¹çš„æ˜¯ï¼šå³ä½¿é€‰æ‹©çš„ä½ç½®é•¿åº¦å°äºå¡å…¥çš„å…ƒç´ ï¼Œæœ€ç»ˆä¹Ÿä¼šå°†æ‰€æœ‰æ–°å…ƒç´ å¡å…¥åˆ—è¡¨



::: info æ€»ç»“

```python
ä¸‹é¢ä¸ºå¯ä»¥å¡å…¥åˆ—è¡¨çš„ç±»å‹
- åˆ—è¡¨
- å…ƒç»„
- é›†åˆ
- å­—ç¬¦ä¸²
- å­—å…¸ï¼ˆæ”¾è¿›å»çš„æ˜¯keyï¼‰
```

:::

::: warning

**<span style="color: orange">å¸ƒå°”å‹</span>** ä¸å¯ä»¥ä½œä¸ºåˆ—è¡¨å…ƒç´ çš„ä¿®æ”¹

```python
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
print('before:', numbers)

numbers[1:5] = True
print('after:', numbers)

# output
Traceback (most recent call last):
  File "C:\Users\Administrator\PycharmProjects\Coder\Python\code5.py", line 112, in <module>
    numbers[1:5] = True
TypeError: can only assign an iterable
```

:::

#### 2.1.10 å‘åˆ—è¡¨æœ«å°¾æ·»åŠ å•ä¸ªå…ƒç´  ï¼ˆ.append()ï¼‰

![e49fe81c45ff38e166f63ff6177a0a6](./5.list.assets/e49fe81c45ff38e166f63ff6177a0a6.png)

```python
# æ·»åŠ å•ä¸ªå…ƒç´ 
lst = ['é’¥åŒ™', 'æ¯’è¯']
print('before:', lst)
lst.append('è§£è¯')
print('after:', lst)

# output
after: ['é’¥åŒ™', 'æ¯’è¯', 'è§£è¯']
```

#### 2.1.11åˆ—è¡¨æœ«å°¾æ·»åŠ å¤šä¸ªå…ƒç´ ï¼ˆ.extend()ï¼‰

```python
# æ·»åŠ å¤šä¸ªå…ƒç´ 
inventory = ['é’¥åŒ™', 'æ¯’è¯', 'è§£è¯']
inventory.extend(['è¿·è¯', 'æ„Ÿå†’è¯'])
print(inventory)

# output
['é’¥åŒ™', 'æ¯’è¯', 'è§£è¯', 'è¿·è¯', 'æ„Ÿå†’è¯']
```

#### 2.1.12 åˆ é™¤åˆ—è¡¨ä¸­çš„å…ƒç´ 1ï¼ˆdelï¼‰

```python
# åˆ é™¤åˆ—è¡¨ä¸­çš„å…ƒç´ 
# del
# del éœ€è¦æŒ‡å®šåˆ—è¡¨ä¸­è¦åˆ é™¤çš„å•ä¸ªå…ƒç´ æˆ–è€…å¤šä¸ªå…ƒç´ ï¼Œå¦‚æœä¸æŒ‡å®šå…ƒç´ ï¼Œåˆ™ä¼šåˆ é™¤æ•´ä¸ªåˆ—è¡¨

student_list = ['æé›·', 'éŸ©æ¢…æ¢…', 'é©¬å†¬æ¢…']
del student_list[0]
print(student_list)

# output
['éŸ©æ¢…æ¢…', 'é©¬å†¬æ¢…']


student_list = ['æé›·', 'éŸ©æ¢…æ¢…', 'é©¬å†¬æ¢…']
del student_list # ä¸æŒ‡å®šå…ƒç´ 
print(student_list)

# output
Traceback (most recent call last):
  File "C:\Users\Administrator\PycharmProjects\Coder\Python\code5.py", line 151, in <module>
    print(student_list)
NameError: name 'student_list' is not defined
```

#### 2.1.13åˆ—è¡¨æŒ‡å®šå…ƒç´ ä½ç½®åˆ é™¤å…ƒç´ 2ï¼ˆ.pop()ï¼‰

```python
# åˆ é™¤åˆ—è¡¨ä¸­çš„å…ƒç´ 
# pop()
# pop() å‡½æ•°é»˜è®¤åˆ é™¤åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ 
# ä¹Ÿå¯ä»¥ä¼ å‚æ•°æŒ‡å®šè¦åˆ é™¤å…ƒç´ ä¸‹æ ‡ã€‚
student_list = ['lilei', 'hanmeimei', 'madongmei']
student_list.pop() # é»˜è®¤åˆ é™¤æœ€åä¸€ä¸ª
print(student_list)

student_list = ['lilei', 'hanmeimei', 'madongmei']
student_list.pop(0) # åˆ é™¤ student_list çš„ 0 å·ä½
print(student_list)

# output
['lilei', 'hanmeimei']
['hanmeimei', 'madongmei']
```

#### 2.1.14 åˆ—è¡¨æŒ‡å®šæŒ‡å®šå…ƒç´ å€¼åˆ é™¤å…ƒç´ ï¼ˆ.remove()ï¼‰

```python
# åˆ é™¤åˆ—è¡¨ä¸­çš„å…ƒç´ 
# remove()
# remove() æŒ‡å®šåˆ—è¡¨ä¸­æŸä¸ªå…ƒç´ 
# ä¾‹å¦‚ï¼šremove('aiyc')
# åˆ™æŒ‡å®šåˆ é™¤åˆ—è¡¨ä¸­çš„ 'aiyc' å…ƒç´ 
student_list = ['æé›·', 'éŸ©æ¢…æ¢…', 'é©¬å†¬æ¢…']
student_list.remove('éŸ©æ¢…æ¢…')
print(student_list)

# output
['æé›·', 'é©¬å†¬æ¢…']
```

#### 2.1.15 ä¸¤ä¸ªåˆ—è¡¨ç›¸åŠ ï¼ˆ+ï¼‰

```python
# ä¸¤ä¸ªåˆ—è¡¨ç›¸åŠ 
# ç›´æ¥ä½¿ç”¨åŠ ç›¸åŠ å°±å¯ä»¥
numbers1 = [0, 1, 2, 3, 4]
numbers2 = [5, 6, 7, 8, 9]
print(numbers1 + numbers2)

# output
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
```

#### 2.1.16 åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨åˆ—è¡¨ä¸­ï¼ˆinï¼‰

```python
# åˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦åœ¨åˆ—è¡¨ä¸­
inventory = ['a', 'b', 'c']
print('a' in inventory)
print('A' in inventory)

# output
True
False
```

#### 2.1.17 è·å–åˆ—è¡¨ä¸­æŸä¸€å…ƒç´ é‡å¤æ¬¡æ•°ï¼ˆ.count()ï¼‰

```python
# è·å–åˆ—è¡¨ä¸­æŸä¸ªå…ƒç´ é‡å¤çš„æ¬¡æ•°ï¼ˆ.count()ï¼‰
numbers = [0, 1, 1, 2, 3, 4, 1]
print(numbers.count(1))

# output
3
```

#### 2.1.18 è·å–åˆ—è¡¨ä¸­æŸä¸€å…ƒç´ é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆ.index()ï¼‰

```python
# è·å–åˆ—è¡¨ä¸­æŸä¸ªå…ƒç´ ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆ.index()ï¼‰
# ç”¨ list.index(value) æ¥è·å–ï¼Œå¦‚æœå…ƒç´ ä¸å­˜åœ¨åˆ™ä¼šæŠ¥é”™ã€‚
numbers = [0, 1, 1, 2, 3, 4, 1]
print(numbers.index(1)) # 1

# output
1
```

#### 2.1.19 åˆ—è¡¨æ’åºï¼ˆ.sort()ï¼‰

```python
# åˆ—è¡¨æ’åº
# sort(reverse = False)
# list.sort() ä½¿åˆ—è¡¨å†…çš„å…ƒç´ ä»å°åˆ°å¤§æ’åˆ—
# ç›´æ¥ä¿®æ”¹åˆ—è¡¨æœ¬èº«
# å¦‚æœé‡Œé¢æŒ‡å®š reverse = True åˆ™åˆ—è¡¨é™åºæ’åˆ—

numbers = [2, 1, 4, 3, 7, 6, 5, 0, 9, 8]
numbers.sort()
print(numbers) # [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

numbers = [2, 1, 4, 3, 7, 6, 5, 0, 9, 8]
numbers.sort(reverse = True)
print(numbers) # [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]

# output
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
```

#### å°è¯•ç‰›åˆ€

å°†ä¸€ä¸²å­—ç¬¦ä¸² '132569874' è½¬æ¢æˆåˆ—è¡¨å¹¶å°†å…¶è¾“å‡ºï¼›
å¯¹å…¶ä¸­å¶æ•°ä¸‹æ ‡çš„å…ƒç´ è¿›è¡Œé™åºæ’åˆ—ï¼Œå¥‡æ•°ä¸‹æ ‡çš„å…ƒç´ ä¸å˜ã€‚

```python
# å°†ä¸€ä¸²å­—ç¬¦ä¸² '132569874' è½¬æ¢æˆåˆ—è¡¨å¹¶å°†å…¶è¾“å‡ºï¼›
# å¯¹å…¶ä¸­å¶æ•°ä¸‹æ ‡çš„å…ƒç´ è¿›è¡Œé™åºæ’åˆ—ï¼Œå¥‡æ•°ä¸‹æ ‡çš„å…ƒç´ ä¸å˜ã€‚

list0 = []
list0[:] = '132569874' # å°†å­—ç¬¦ä¸²è½¬æ¢æˆåˆ—è¡¨

list1 = list0[1::2] # é€‰å‡ºå¶æ•°ä¸‹æ ‡çš„å…ƒç´ 
list1.sort(reverse = True) # é™åºæ’åˆ—å¶æ•°ä½ç½®å…ƒç´ 

list0[1::2]= list1 # å°†åŸå§‹åˆ—è¡¨çš„å¶æ•°ä½ç½®å…ƒç´ ä»æ–°ç”±æ’åºåçš„å…ƒç´ è¦†ç›–

print(list0)

# output
['1', '3', '2', '5', '6', '9', '8', '7', '4']
['9', '7', '5', '3']
['1', '9', '2', '7', '6', '5', '8', '3', '4']
```

#### 2.1.20 åˆ›å»ºå°†åŸåˆ—è¡¨æ’åºåçš„æ–°åˆ—è¡¨ï¼ˆ.sorted()ï¼‰

```python
# sorted(list, reverse=False)
# sorted(list, reverse=False) å°†åˆ—è¡¨è¿›è¡Œå°åˆ°å¤§æ’åºï¼Œæ’åºååŸåˆ—è¡¨ä¸å˜ï¼Œè¿”å›æ–°åˆ—è¡¨ã€‚reverse é»˜è®¤ Falseï¼Œå¦‚æœè®¾ç½®ä¸º True åˆ™è¿”å›é™åºæ’åºã€‚

lst = [9 ,8 ,10, 7, 6, 5, 4, 3, 2, 1, 0]
new_lst = sorted(lst)
print(new_lst)

lst = [9, 8, 10, 7, 6, 5, 4 ,3 ,2 ,1, 0]
new_lst = sorted(lst, reverse = True)
print(new_lst)

# output
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
```

#### 2.1.21 åè½¬åˆ—è¡¨ï¼ˆ.reverse()ï¼‰

```python
lst = ['a', 'b', 'c']
lst.reverse()
print(lst)

# output
['c', 'b', 'a']
```



### 2.2 åˆ—è¡¨çš„æ·±æµ…æ‹·è´



```python
# åˆ—è¡¨çš„æ·±æµ…æ‹·è´
# æ‰€å­˜åœ¨çš„é—®é¢˜
x = ['a', 'b', 'c']
y = x
print(f'Orginal:\n\tx: {x}\n\ty: {y}\n\tid_x: {id(x)}\n\tid_y: {id(y)}') # id()ç”¨æ¥è·å–å˜é‡çš„ç‰©ç†åœ°å€
y[0] = 'd'
print(f'After:\n\tx: {x}\n\ty: {y}\n\tid_x: {id(x)}\n\tid_y: {id(y)}')

# output
Orginal:
    x: ['a', 'b', 'c']
    y: ['a', 'b', 'c']
    id_x: 2003107131776
    id_y: 2003107131776
After:
    x: ['d', 'b', 'c']
    y: ['d', 'b', 'c']
    id_x: 2003107131776
    id_y: 2003107131776
```

å‘ç°é—®é¢˜ï¼šä¸¤è€…å¹¶ä¸ç‹¬ç«‹ï¼Œä¿®æ”¹ y åˆ—è¡¨ï¼Œä½†æ˜¯ä¼šåŒæ—¶å½±å“ x åˆ—è¡¨ã€‚ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ

æ˜¯å› ä¸ºï¼Œåœ¨è¿›è¡Œ`y=x`çš„èµ‹å€¼æ—¶ï¼Œåªæ˜¯è¿›è¡Œäº†åˆ—è¡¨åœ°å€çš„èµ‹å€¼ï¼Œxã€y å®é™…ä¸ŠæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåˆ—è¡¨ã€‚

1. è¯æ˜ä¸€ï¼šPython id ç”¨æ¥æ£€æŸ¥å˜é‡ç‰©ç†åœ°å€ï¼ˆä¹Ÿå°±æ˜¯åœ¨è®¡ç®—æœºä¸­æ‰€åœ¨çš„ä½ç½®ï¼‰ä»ä¸Šé¢è¯æ˜çš„ä»£ç ç»“æœå¯çŸ¥ï¼šxã€y æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªåˆ—è¡¨ï¼Œå› ä¸º id ç›¸åŒã€‚

    

2. è¯æ˜äºŒï¼š å¯ä»¥ç›´æ¥ä½¿ç”¨ **<span style="color: red">å¯è§†åŒ–</span>** æŸ¥çœ‹

![image-20240411160332851](./5.list.assets/image-20240411160332851.png)

æ‰€ä»¥æ”¹å¦‚ä½•è§£å†³ï¼Ÿâ€”â€”â€”â€”ä½¿ç”¨`copy()`è¿›è¡Œæµ…æ‹·è´

#### 2.2.1 æµ…æ‹·è´ copy()

```python
x = ['a', 'b', 'c']
y = x.copy()
print(f'Orginal:\n\tx: {x}\n\ty: {y}\n\tid_x: {id(x)}\n\tid_y: {id(y)}') # id()ç”¨æ¥è·å–å˜é‡çš„ç‰©ç†åœ°å€
y[0] = 'd'
print(f'After:\n\tx: {x}\n\ty: {y}\n\tid_x: {id(x)}\n\tid_y: {id(y)}')

# output

Orginal:
    x: ['a', 'b', 'c']
    y: ['a', 'b', 'c']
    id_x: 2347164512640
    id_y: 2347164512896
After:
    x: ['a', 'b', 'c']
    y: ['d', 'b', 'c']
    id_x: 2347164512640
    id_y: 2347164512896
```

é‚£ copy() ä¼šä¸ä¼šå­˜åœ¨ä½¿ç”¨ä¸Šçš„ä¸€äº›bugå‘¢ï¼Ÿ

```python
x = ['a', 'b', 'c', [1, 2, 3]]
y = x.copy()

print(f'Original:\n\tx: {x}\n\ty: {y}\n\tid:\n\t\tid_x: {id(x)}\n\t\tid_y: {id(y)}\n\t\tid_children x[3]: {id(x[3])}\n\t\tid_children y[3]: {id(y[3])}')  # id ç”¨æ¥è·å–å˜é‡çš„ç‰©ç†åœ°å€
y[0] = 'd'
print(f'After 1:\n\tx: {x}\n\ty: {y}\n\tid:\n\t\tid_x: {id(x)}\n\t\tid_y: {id(y)}\n\t\tid_children x[3]: {id(x[3])}\n\t\tid_children y[3]: {id(y[3])}')
y[3][0] = 4
print(f'After 2:\n\tx: {x}\n\ty: {y}\n\tid:\n\t\tid_x: {id(x)}\n\t\tid_y: {id(y)}\n\t\tid_children x[3]: {id(x[3])}\n\t\tid_children y[3]: {id(y[3])}')

# output
Original:
	x: ['a', 'b', 'c', [1, 2, 3]]
	y: ['a', 'b', 'c', [1, 2, 3]]
	id:
		id_x: 2328236470912
		id_y: 2328236752128
		id_children x[3]: 2328236470656
		id_children y[3]: 2328236470656
After 1:
	x: ['a', 'b', 'c', [1, 2, 3]]
	y: ['d', 'b', 'c', [1, 2, 3]]
	id:
		id_x: 2328236470912
		id_y: 2328236752128
		id_children x[3]: 2328236470656
		id_children y[3]: 2328236470656
After 2:
	x: ['a', 'b', 'c', [4, 2, 3]]
	y: ['d', 'b', 'c', [4, 2, 3]]
	id:
		id_x: 2328236470912
		id_y: 2328236752128
		id_children x[3]: 2328236470656
		id_children y[3]: 2328236470656
```

å‡ºç°çš„é—®é¢˜ï¼š



![image-20240411161249891](./5.list.assets/image-20240411161249891.png)

æ‰€ä»¥ï¼Œcopy å®ç°çš„æ˜¯æµ…æ‹·è´ï¼Œåªæ‹·è´åˆ—è¡¨çš„ç¬¬ä¸€å±‚ï¼ŒåµŒå¥—çš„åˆ—è¡¨åˆ™ä¸ä¼šæ‹·è´ã€‚



#### 2.2.2 æ·±æ‹·è´ deepcopy()

ä½¿ç”¨æ·±æ‹·è´éœ€è¦å¯¼å…¥åº“ï¼š

```python
from copy import deepcopy
```

å…·ä½“å®ç°ï¼š

```python
from copy import deepcopy
x = ['a', 'b', 'c', [1, 2, 3]]
y = deepcopy(x)

print(f'Original:\n\tx: {x}\n\ty: {y}\n\tid:\n\t\tid_x: {id(x)}\n\t\tid_y: {id(y)}\n\t\tid_children x[3]: {id(x[3])}\n\t\tid_children y[3]: {id(y[3])}')  # id ç”¨æ¥è·å–å˜é‡çš„ç‰©ç†åœ°å€
y[0] = 'd'
print(f'After 1:\n\tx: {x}\n\ty: {y}\n\tid:\n\t\tid_x: {id(x)}\n\t\tid_y: {id(y)}\n\t\tid_children x[3]: {id(x[3])}\n\t\tid_children y[3]: {id(y[3])}')
y[3][0] = 4
print(f'After 2:\n\tx: {x}\n\ty: {y}\n\tid:\n\t\tid_x: {id(x)}\n\t\tid_y: {id(y)}\n\t\tid_children x[3]: {id(x[3])}\n\t\tid_children y[3]: {id(y[3])}')

# output
Original:
    x: ['a', 'b', 'c', [1, 2, 3]]
    y: ['a', 'b', 'c', [1, 2, 3]]
    id:
       id_x: 1916271245184
       id_y: 1916271245312
       id_children x[3]: 1916271878784
       id_children y[3]: 1916271865600
After 1:
    x: ['a', 'b', 'c', [1, 2, 3]]
    y: ['d', 'b', 'c', [1, 2, 3]]
    id:
       id_x: 1916271245184
       id_y: 1916271245312
       id_children x[3]: 1916271878784
       id_children y[3]: 1916271865600
After 2:
    x: ['a', 'b', 'c', [1, 2, 3]]
    y: ['d', 'b', 'c', [4, 2, 3]]
    id:
       id_x: 1916271245184
       id_y: 1916271245312
       id_children x[3]: 1916271878784
       id_children y[3]: 1916271865600
```

#### 2.2.3 ä¸€ä¸ªç‰¹ä¾‹

æˆ‘ä»¬ä¸Šé¢è¯´äº†åˆ—è¡¨çš„æ·±æµ…æ‹·è´ï¼Œä½†æ˜¯æµ…æ‹·è´çš„æ—¶å€™ï¼Œè™½ç„¶å­åˆ—è¡¨æ²¡æœ‰å®Œå…¨ copy å‡ºæ¥ï¼Œä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µä¸‹æ˜¯ä¸ä¼šäº’ç›¸å½±å“ã€‚

æ€è€ƒä¸€ä¸‹ğŸ¤”ï¼šä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æµ…æ‹·è´çš„ä»£ç ä¸­ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¿®æ”¹å­åˆ—è¡¨ä¸ä¼šäº’ç›¸å½±å“ã€‚

::: details ä¸€ä¸ªç‰¹ä¾‹

```python
x = ['æ¯’è¯', 'æ„Ÿå†’è¯', 'è§£è¯', ['é¦™è•‰', 'ç“œå­', 'å…«å®ç²¥']]
y = x.copy()
print(f'Original:\n\tx: {x}\n\ty: {y}\n\tid:\n\t\tid_x: {id(x)}\n\t\tid_y: {id(y)}\n\t\tid_children x[3]: {id(x[3])}\n\t\tid_children y[3]: {id(y[3])}')  # id ç”¨æ¥è·å–å˜é‡çš„ç‰©ç†åœ°å€
y[0] = 'æ¶ˆç‚è¯'
print(f'After 1:\n\tx: {x}\n\ty: {y}\n\tid:\n\t\tid_x: {id(x)}\n\t\tid_y: {id(y)}\n\t\tid_children x[3]: {id(x[3])}\n\t\tid_children y[3]: {id(y[3])}')
y[3] = 'è‹¹æœ'
print(f'After 2:\n\tx: {x}\n\ty: {y}\n\tid:\n\t\tid_x: {id(x)}\n\t\tid_y: {id(y)}\n\t\tid_children x[3]: {id(x[3])}\n\t\tid_children y[3]: {id(y[3])}')

# output
Original:
	x: ['æ¯’è¯', 'æ„Ÿå†’è¯', 'è§£è¯', ['é¦™è•‰', 'ç“œå­', 'å…«å®ç²¥']]
	y: ['æ¯’è¯', 'æ„Ÿå†’è¯', 'è§£è¯', ['é¦™è•‰', 'ç“œå­', 'å…«å®ç²¥']]
	id:
		id_x: 2259873051264
		id_y: 2259873332480
		id_children x[3]: 2259873051008
		id_children y[3]: 2259873051008
After 1:
	x: ['æ¯’è¯', 'æ„Ÿå†’è¯', 'è§£è¯', ['é¦™è•‰', 'ç“œå­', 'å…«å®ç²¥']]
	y: ['æ¶ˆç‚è¯', 'æ„Ÿå†’è¯', 'è§£è¯', ['é¦™è•‰', 'ç“œå­', 'å…«å®ç²¥']]
	id:
		id_x: 2259873051264
		id_y: 2259873332480
		id_children x[3]: 2259873051008
		id_children y[3]: 2259873051008
After 2:
	x: ['æ¯’è¯', 'æ„Ÿå†’è¯', 'è§£è¯', ['é¦™è•‰', 'ç“œå­', 'å…«å®ç²¥']]
	y: ['æ¶ˆç‚è¯', 'æ„Ÿå†’è¯', 'è§£è¯', 'è‹¹æœ']
	id:
		id_x: 2259873051264
		id_y: 2259873332480
		id_children x[3]: 2259873051008
		id_children y[3]: 2259873384080
```

:::

![image-20240411163201130](./5.list.assets/image-20240411163201130.png)

![image-20240411163220065](./5.list.assets/image-20240411163220065.png)

###  2.3 ç»ƒä¹ 

#### 2.3.1 åˆ—è¡¨å…ƒç´ å»é‡

- ç»™å®šä¸€ä¸ªåŒ…å«é‡å¤å…ƒç´ çš„åˆ—è¡¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«åŸåˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ ï¼Œä½†å»é™¤é‡å¤é¡¹ã€‚

    ::: tips

    set(), list(), å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼

    :::

    **ç­”æ¡ˆ**

```python
numbers = [1, 2, 2, 3, 4, 4, 5]
numbers1 = list(set(numbers))
print(numbers1)

# output
[1, 2, 3, 4, 5]
```

#### 2.3.2æŸ¥æ‰¾ä¸¢å¤±çš„æ•°å­—

- è·å–ç”¨æˆ·è¾“å…¥ï¼Œå…¶ä¸­ç”¨æˆ·è¾“å…¥ç‰¹å®š**åˆ—è¡¨**ã€‚æ­¤**åˆ—è¡¨**ç”±è¿ç»­çš„æ•°å­—å…ƒç´ ç»„æˆã€‚ä½†æ˜¯ï¼Œç¼ºå°‘ä¸€ä¸ªæ•°å­—ã€‚è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œåœ¨ä¸ä½¿ç”¨ä»»ä½•å†…ç½®å‡½æ•°çš„æƒ…å†µä¸‹æŸ¥æ‰¾ä¸¢å¤±çš„æ•°å­—ã€‚

ç¤ºä¾‹ä¸€ï¼š

```python
Enter the list of numbers:1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ6ï¼Œ7ï¼Œ8
The missing number is 5.
```

ç¤ºä¾‹äºŒï¼š

```python
Enter the list of numbers:1.2,4,5,6ï¼Œ7,8
The missing number is 3.
```

::: tips 

ä½¿ç”¨ map()

å¤§è‡´ç”¨é€”ï¼š

list(map(åŠ å·¥ï¼Œ[é¸¡è‚‰ï¼Œç‰ç±³ï¼ŒçŒªè‚‰ï¼ŒåœŸè±†])) ã€‹ã€‹ã€‹[çƒ¤é¸¡ï¼Œçˆ†ç±³èŠ±ï¼Œ çŒªæ‰’ï¼Œè–¯æ¡]

ä½¿ç”¨æ–¹æ³•ï¼š

```python
numbers = [1, 2, 3, 4, 5]
def doubler(n):
    return n*2
result = map(doubler, numbers)
print(result)
print(list(result))

# output
<map object at 0x0000024BE03F01F0>
[2, 4, 6, 8, 10]
```

æ‰€ä»¥ç»“åˆæœ¬é¢˜ï¼š

```python
string_numbers = ['1', '2', '3', '99', '101', '131']
int_numbers = list(map(int, string_numbers))
print(int_numbers)

# output
[1, 2, 3, 99, 101, 131]
```

:::

ç­”æ¡ˆï¼š

```python
string_numbers = input("Enter the list of the numbers")
string_numbers = string_numbers.replace(' ','') # æŠŠç”¨æˆ·è¾“å…¥çš„ç©ºæ ¼å…¨éƒ¨åˆ é™¤
list_numbers = string_numbers.split(',') # ä»¥','åˆ†å‰²å­—ç¬¦ä¸²ï¼Œè¿”å›åˆ—è¡¨
list_numbers = list(map(int, list_numbers)) # åˆ©ç”¨ map å‡½æ•°å°†åˆ—è¡¨ä¸­çš„ str å…ƒç´ è½¬ä¸º int å…ƒç´ 

n = len(list_numbers) + 1 # ç¼ºå°‘ä¸€ä¸ªæ•°å­—ï¼Œæ‰€ä»¥åŠ ä¸€

sum_numbers = sum(list_numbers) # å®é™…æ€»å’Œ

missing = int(n*(n+1)/2) - sum_numbers # ä» 1 å¼€å§‹åˆ°ç”¨æˆ·è¾“å…¥åˆ—è¡¨çš„é•¿åº¦ä¸ºä¸ç¼ºå°‘æ•°å­—çš„æ€»å’Œï¼Œå‡å»å®é™…æ€»å’Œå°±æ˜¯ç¼ºå°‘çš„æ•°å­—
print(missing)
```

#### 2.3.3 åˆ—è¡¨åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢

- è·å–ç”¨æˆ·è¾“å…¥**åˆ—è¡¨**å’Œç‰¹å®šçš„åˆ†éš”ç¬¦ï¼Œå¹¶ä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦å°†ç”¨æˆ·è¾“å…¥**åˆ—è¡¨**ä¸­çš„é¡¹ç›®è¿æ¥åˆ°å­—ç¬¦ä¸²ä¸­ã€‚

ç¤ºä¾‹ä¸€ï¼š

```python
Please enter a list of elements, separated by commas: apple, banana, orange
Please enter the delimiter you wish to use: ;
apple; banana; orange
```

ç¤ºä¾‹äºŒï¼š

```python
Please enter a list of elements, separated by commas: Monday, Tuesday, Wednesday
Please enter the delimiter you wish use: ,
Monday,Tuesday,Wednesday
```

ç¤ºä¾‹ä¸‰ï¼š

```python
Please enter a list of elements, separated by commas: dog, cat, mouse
Please enter the delimiter you wish to use: -
dog - cat - mouse
```



::: tips 

1. æ­¤å¤„ä¹Ÿå¯ä»¥ç”¨åˆ° map() 
2. join åœ¨åˆ—è¡¨ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨

:::

ç­”æ¡ˆï¼š

```python
str_numbers = input("Please enter a list of elements, separated by commas: ")
delimiter = input("Please enter the delimiter you wish to use: ")

list_nubmers = str_numbers.split(',') # å°†ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²è½¬ä¸ºåˆ—è¡¨

list_nubmers = delimiter.join(list_nubmers) # åˆ©ç”¨ join å‡½æ•°æ”¹å˜åˆ—è¡¨å…ƒç´ é—´çš„é—´éš”

print(list_nubmers)
```



#### 2.3.4 åˆ—è¡¨å¯¹ç§°æ€§æ£€æŸ¥

- æ£€æŸ¥åˆ—è¡¨æ˜¯å¦å¯¹ç§°ï¼ˆå‰åç›¸åŒï¼‰

ç¤ºä¾‹ä¸€ï¼š

```python
Enter a list of items separated by commas:1ï¼Œ2ï¼Œ3ï¼Œ2ï¼Œ3 
Is the entered list symmetric: False
```

ç¤ºä¾‹äºŒï¼š

```python
Enter a list of items separated by commas:1,2ï¼Œ3ï¼Œ2ï¼Œ1
Is the entered list symetric: True
```

::: tips



:::

ç­”æ¡ˆï¼š

::: tab-codes

@tab answer 1

```python
Str = input('Enter a list of items separated yb commas: ')
List = list(Str.replace(' ','').split(','))

List_inv = List[::-1]

print(List)
print(List_inv)
print("Is the entered list symmetric: {}".format(List == List_inv))
```



@tab answer 2

```python
Str = input('Enter a list of items separated yb commas: ')
List = list(Str.replace(' ','').split(','))

List_original = List.copy() # å¤åˆ¶åŸå…ˆçš„åˆ—è¡¨ç”¨äºä¿å­˜,ç”¨åˆ°äº†è¯¥å°èŠ‚çš„çŸ¥è¯†â€”â€”â€”â€”æ·±æµ…æ‹·è´
List.reverse() # åŸå…ˆçš„åˆ—è¡¨ç¿»è½¬äº†

print(List)
print(List_original)
print("Is the entered list symmetric: {}".format(List == List_original))
```



:::
