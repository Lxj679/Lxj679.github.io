---
title: 12. for
date: 2024-05-09 14:19:44
isOriginal: true
category:
    - python
tag:
    - python
    - 编程
    - 教程
icon: python
sticky: false
star: false
article: true
timeline: true
image: false
navbar: true
sidebarIcon: true
headerDepth: 5
comment: true
lastUpdated: true
editLink: true
backToTop: true
toc: true
---

## 1. for 循环遍历列表每个元素

```python
students_list = ['lilei', 'hanmeimei', 'madongmei']
for student in students_list:
    print(student)

# output
lilei
hanmeimei
madongmei
```

## 2. 遍历列表元素平方放回

1. 操作如下列表

```python
lst = [1,2,3,4,5,6,7,8,9,10]
```

2. 平方放回

```python
lst = [1,2,3,4,5,6,7,8,9,10]

position = 0
for num in lst:
    lst[position] = num ** 2
    position += 1
    
print(lst)

# output
[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
```

## 3. enmuerate()

`enmuerate` 是 python 中的一个内置函数，非常实用，它用于遍历序列（比如列表、元组或字符串）时，同时获得每个元素的索引和值，这样可以让循环中的迭代更加直观，也更易于处理

### 3.1 基本用法

假设有一个列表，你想遍历它并同时获取每个元素的索引和值，你可以这样使用`enumerate`:

```python
fruits = ['apple', 'banana', 'cherry']
for index, fruit in enumerate(fruits):
    print(index, fruit)
```

输出结果：

```python
0 apple
1 banana
2 cherry
```

### 3.2 一步步拆分学习

1. 给定如下列表

```python
In [1]: fruits = ['apple','banana','cherry']
```

2. 使用 enumerate 后，直接输出

```python
In [2]: enumerate(fruits)
Out[2]: <enumerate at 0x24e7f22e980>
```

3. 上面输出不直观，直接使用` list()` 转换

```python
In [3]: list(enumerate(fruits))
Out[3]: [(0, 'apple'), (1, 'banana'), (2, 'cherry')]
```

4. 直接 for 循环查看结果

```python
In [4]: fruits_list = list(enumerate(fruits))
In [5]: for fruit in fruits_list:
   ...:     print(fruit)
   ...:
(0, 'apple')
(1, 'banana')
(2, 'cherry')
```

5. 元组支持多个变量同时赋值

```python
In [3]: index, fruit = (0, 'apple')

In [4]: index
Out[4]: 0
```

6. 所以 for 循环中的代码可以进行第一步优化

```python
In [1]: fruit = ['apple','banana','cherry']

In [2]: fruit_list = list(enumerate(fruit))

In [3]: for Fruit in fruit_list:
   ...:     index , fruit = Fruit
   ...:     print(index, fruit)
   ...:
0 apple
1 banana
2 cherry
```

7. for 循环代码进行二次优化

```python
In [1]: fruits = ['apple','banana','cherry']

In [2]: fruits_list = list(enumerate(fruits))

In [3]: for index, fruit in fruits_list:
   ...:     print(index, fruit)
   ...:
0 apple
1 banana
2 cherry
```

8. 最后，我们来汇总一下，常规会直接下厨如下代码：
    ```python
    In [6]: for index, fruit in enumerate(fruits):
       ...:     print(index, fruit)
       ...:
    ```

    9. 上面原本的列表数据已经被使用过枚举（enumerate），所以需要重新创建新的列表：

    ```python
    In [5]:  fruits = ['apple','banana','cherry']
    
    In [6]: for index, fruit in enumerate(fruits):
       ...:     print(index, fruit)
       ...:
    0 apple
    1 banana
    2 cherry
    ```

    ### 3.3 指定起始索引

    默认情况下，`enumerate` 从 0 开始计数，但你可以通过添加一个可选的 `start`参数来指定一个不同的起始索引：

    ```python
    fruits = ['apple', 'banana','cherry']
    for index, fruit in enumerate(fruits, start = 1):
        print(index, fruit)
        
    # output
    1 apple
    2 banana
    3 cherry
    ```

    ### 3.4 使用场景

    `enumerate` 特别有用于以下几个场景：

    1. 当你需要对元素进行索引操作时，例如修改原列表或数组。
    2. 在循环中同时需要索引和元素值，而无需使用range(len(sequence))。
    3. 使代码更加简洁，可读性更强。

    总之，`enumerate` 是 Python 中用来增强循环结构的一个非常有用的工具。
